{% extends 'base_financiero.html' %}

{% load crispy_forms_tags %}


{% load static %}
{% load staticfiles %}

{% block title %}{{ "EC - Presupuesto de Evento" }}{% endblock title %}

{% block content %}


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-theme/0.1.0-beta.10/select2-bootstrap.css" />

<form method="post" data-info-url="{% url 'ajax_cargar_valor' %}"
	data-confirmacion-url="{% url 'ajax_verificar_campos' %}" id="form" novalidate>
	{% csrf_token %}
	<div class="row">
		<div class="col-5">
			<h2 class="text-uppercase darkgreen-text">Edici√≥n Presupuesto Evento</h2>
		</div>
		<div class="col-7">
			<div class="form-row">
				<div class="col-2"></div>
				<div class="col-4">{{ form.estado}}</div>
				<div class="col-3">{{ form.codigo}}</div>
				<div class="col-3">{{ form.fecha}}</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="campo col-12 mt-2 p-2 pl-3">
			<h4 class="black-text text-uppercase mb-0">Datos Generales</h4>
		</div>
	</div>
	<div class="row darkwhite-bg py-2">
		<div class="col-12">
			<div class="form-row">
				<div class="col-3"></div>
				<div class="col-6"></div>
				<div class="col-3"></div>
			</div>
			<div class="form-row">
				<input type="hidden" name="empresa" value='{{form.empresa.value}}' />
				<div class="col-6">{{ form.empresa | as_crispy_field}}</div>
				<div class="col-3"></div>
				<div class="col-3"></div>
			</div>
			<div class="form-row">
				<div class="col-2">{{ form.hora_inicio | as_crispy_field}}</div>
				<div class="col-2">{{ form.hora_fin | as_crispy_field}}</div>
				<div class="col-2">{{ form.n_horas | as_crispy_field}}</div>
				<div class="col-2">{{ form.n_dias | as_crispy_field}}</div>
				<div class="col-2">{{ form.n_participantes | as_crispy_field}}</div>
				<input type="hidden" name="centro_costos" value='{{form.centro_costos.value}}' />
				<div class="col-2">{{ form.centro_costos | as_crispy_field}}</div>
			</div>
			<div class="form-row">
				<div class="col-2 d-none" id="div_hora_1">
					<label for="hora1" class="col-form-label  requiredField">Costo Hora instructor 1</label><span
						class="asteriskField">*</span>
					<div class="currency-wrap">
						<span class="currency-code">$</span>
						<input type="number" min="0" id="hora1" required class='form-control costo_hora text-currency'>
					</div>
				</div>
				<div class="col-2 d-none" id="div_hora_2">
					<label for="hora2" class="col-form-label  requiredField">Costo Hora instructor 2</label><span
						class="asteriskField">*</span>
					<div class="currency-wrap">
						<span class="currency-code">$</span>
						<input type="number" min="0" id="hora2" class='form-control text-currency costo_hora'>
					</div>
				</div>
				<div class="col-2 d-none" id="div_hora_3">
					<label for="hora3" class="col-form-label  requiredField">Costo Hora instructor 3</label><span
						class="asteriskField">*</span>
					<div class="currency-wrap">
						<span class="currency-code">$</span>
						<input type="number" min="0" id="hora3" class='form-control text-currency costo_hora'>
					</div>
				</div>
				<div class="col-2 d-none" id="div_hora_4">
					<label for="hora4" class="col-form-label  requiredField">Costo Hora instructor 4</label><span
						class="asteriskField">*</span>
					<div class="currency-wrap">
						<span class="currency-code">$</span>
						<input type="number" min="0" id="hora4" class='form-control text-currency costo_hora'>
					</div>
				</div>
				<div class="col-2 d-none" id="div_hora_5">
					<label for="hora5" class="col-form-label  requiredField">Costo Hora instructor 5</label><span
						class="asteriskField">*</span>
					<div class="currency-wrap">
						<span class="currency-code">$</span>
						<input type="number" min="0" id="hora5" class='form-control text-currency costo_hora'>
					</div>
				</div>
				<div class="col-2">
					<div class="form-group">
						<label for="id_costo_instructores"
							class="col-form-label  requiredField">{{ form.costo_instructores.label}}</label>
						<span class="asteriskField">*</span>
						<div class="currency-wrap">
							<span class="currency-code">$</span>
							{{form.costo_instructores}}
						</div>
					</div>
					{{form.costo_hora_instructores}}
				</div>
			</div>
			{% if orden.estado == 'Grabado' %}
			<div class="form-row">
				<div class="col-1 v-align">
					<a id="add_inst" class="btn btn-block btn-sm white-text btn-secondary">+</a>
				</div>
				<div class="col-1 v-align">
					<a id="remove_inst" class="btn btn-block btn-sm white-text btn-secondary">-</a>
				</div>
			</div>
			{%endif%}
		</div>
	</div>
	<div class="row">
		<div class="campo col-12 p-2 pl-3">
			<h4 class="black-text text-uppercase mb-0">Ingresos</h4>
		</div>
	</div>
	<div class="row darkwhite-bg py-2">
		<div class="col-12">
			<div class="row">
				<div class="col-2"></div>
				<div class="col-8">
					<div class="form-row">
						<div class="col-3"></div>
						<div class="col-3">
							<h5 class="text-center">Datos</h5>
						</div>
						<div class="col-3">
							<h5 class="text-center">Valor Unitario</h5>
						</div>
						<div class="col-3">
							<h5 class="text-center">Total</h5>
						</div>
					</div>
					<div class="form-row">
						<div class="col-3 v-align">Ingresos sin descuento</div>
						<div class="col-3"></div>
						<div class="col-3">
							<div class="currency-wrap">
								<span class="currency-code">$</span>
								{{ form.ingreso_individual_sin_desc | as_crispy_field}}
							</div>
						</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">$</span>
									{{ form.ingreso_total_sin_desc |as_crispy_field}}
								</div>
							</div>
						</div>
					</div>
					<div class="form-row">
						<div class="col-3 v-align">Porcentaje de descuento</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">%</span>
									{{ form.descuento_maximo |as_crispy_field}}
								</div>
							</div>
						</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">$</span>
									{{ form.descuento_individual |as_crispy_field}}
								</div>
							</div>
						</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">$</span>
									{{ form.descuento_total |as_crispy_field}}
								</div>
							</div>
						</div>
					</div>
					<div class="form-row">
						<div class="col-3"></div>
						<div class="col-3 v-align">
							<h5 class="text-center">TOTAL INGRESOS</h5>
						</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">$</span>
									{{ form.ingreso_neto_individual |as_crispy_field}}
								</div>
							</div>
						</div>
						<div class="col-3">
							<div class="form-group">
								<div class="currency-wrap">
									<span class="currency-code">$</span>
									{{ form.ingreso_neto_total |as_crispy_field}}
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-2"></div>
			</div>


		</div>
	</div>
	<div class="row">
		<div class="campo col-12 p-2 pl-3">
			<h4 class="black-text text-uppercase mb-0">Egresos >> <span class="green-text"> Egresos Fijos</span></h4>
		</div>
	</div>
	<div class="my-3">
		<div id="accordion">
			<div class="card">
				<div class="card-header border-bottom border-success" id="headingOne">
					<a style="cursor: pointer" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false"
						aria-controls="collapseOne">
						<h5 class="mb-0">
							EGRESOS INSTRUCTOR<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>

				<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Honorarios Instructor/es</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">%</span>{{form.porcentaje_honorario_instructor| as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span><input
												type="number" min="0" id="costo_total_instructores"
												placeholder="Costo hora Instructores" readonly required
												class='form-control text-currency textInput'></div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.honorario_total_evento |as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row d-none" id="div_impuesto_1">
									<div class="col-3 v-align">Impuesto a la renta (Instructor1)</div>
									<div class="col-3">
										<div class="form-group">
											<select onchange="CargarInfo('impuesto_1',this.value);"
												class="form-control otros impuesto impuesto-select"
												data-label="id_impuesto_1_unitario" required id="impuesto_select_1">
												<option value="" selected>---------</option>
												<option value="0">No aplica</option>
												<option value="100">Aplica</option>
											</select>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="id_impuesto_1_unitario" required readonly
												class='form-control text-currency valor-total impuesto impuesto-unitario'
												data-total='impuesto_total_1' data-depend='False'
												data-field='id_n_participantes'>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="impuesto_total_1" required readonly
												class='form-control text-currency egreso-fijo impuesto impuesto-final'>
										</div>
									</div>
								</div>
								<div class="form-row d-none" id="div_impuesto_2">
									<div class="col-3 v-align">Impuesto a la renta (Instructor2)</div>
									<div class="col-3">
										<div class="form-group">
											<select onchange="CargarInfo('impuesto_2',this.value);"
												class="form-control otros impuesto impuesto-select"
												data-label="id_impuesto_2_unitario" required id="impuesto_select_2">
												<option value="">---------</option>
												<option value="0">No aplica</option>
												<option value="100">Aplica</option>
											</select>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="id_impuesto_2_unitario" required readonly
												class='form-control text-currency valor-total impuesto impuesto-unitario'
												data-total='impuesto_total_2' data-depend='False'
												data-field='id_n_participantes'>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="impuesto_total_2" required readonly
												class='form-control text-currency egreso-fijo impuesto impuesto-final'>
										</div>
									</div>
								</div>
								<div class="form-row d-none" id="div_impuesto_3">
									<div class="col-3 v-align">Impuesto a la renta (Instructor3)</div>
									<div class="col-3">
										<div class="form-group">
											<select onchange="CargarInfo('impuesto_3',this.value);"
												class="form-control otros impuesto impuesto-select"
												data-label="id_impuesto_3_unitario" required id="impuesto_select_3">
												<option value="">---------</option>
												<option value="0">No aplica</option>
												<option value="100">Aplica</option>
											</select>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="id_impuesto_3_unitario" required readonly
												class='form-control text-currency valor-total impuesto impuesto-unitario'
												data-total='impuesto_total_3' data-depend='True'
												data-field='id_n_participantes'>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="impuesto_total_3" required readonly
												class='form-control text-currency egreso-fijo impuesto impuesto-final'>
										</div>
									</div>
								</div>
								<div class="form-row d-none" id="div_impuesto_4">
									<div class="col-3 v-align">Impuesto a la renta (Instructor4)</div>
									<div class="col-3">
										<div class="form-group">
											<select onchange="CargarInfo('impuesto_4',this.value);"
												class="form-control otros impuesto impuesto-select"
												data-label="id_impuesto_4_unitario" required id="impuesto_select_4">
												<option value="">---------</option>
												<option value="0">No aplica</option>
												<option value="100">Aplica</option>
											</select>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="id_impuesto_4_unitario" required readonly
												class='form-control text-currency valor-total impuesto-unitario impuesto'
												data-total='impuesto_total_4' data-depend='False'
												data-field='id_n_participantes'>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="impuesto_total_4" required readonly
												class='form-control text-currency egreso-fijo impuesto impuesto-final'>
										</div>
									</div>
								</div>
								<div class="form-row d-none" id="div_impuesto_5">
									<div class="col-3 v-align">Impuesto a la renta (Instructor5)</div>
									<div class="col-3">
										<div class="form-group">
											<select onchange="CargarInfo('impuesto_5',this.value);"
												class="form-control otros impuesto impuesto-select"
												data-label="id_impuesto_5_unitario" required id="impuesto_select_5">
												<option value="">---------</option>
												<option value="0">No aplica</option>
												<option value="100">Aplica</option>
											</select>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="id_impuesto_5_unitario" required readonly
												class='form-control text-currency valor-total impuesto impuesto-unitario'
												data-total='impuesto_total_5' data-depend='False'
												data-field='id_n_participantes'>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap">
											<span class="currency-code">$</span>
											<input type="number" min="0" id="impuesto_total_5" required readonly
												class='form-control text-currency egreso-fijo impuesto impuesto-final'>
										</div>
									</div>
								</div>
								{{form.impuesto_unitario}}
								{{form.impuesto_total}}
								{{form.impuesto_select}}
								<div class="form-row">
									<div class="col-3 v-align">Pasaje Instructor</div>

									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="pasaje_instructor"
												value='{{form.pasaje_instructor.value}}' />
											{{form.pasaje_instructor | as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.pasaje_instructor_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.pasaje_instructor_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Hospedaje y alimentaci√≥n Instructor</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="hospedaje_alimentacion_instructor"
												value='{{form.hospedaje_alimentacion_instructor.value}}' />
											{{form.hospedaje_alimentacion_instructor|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.hospedaje_alimentacion_instructor_dias}}
									</div>
									<div class="col-1">
										{{form.hospedaje_alimentacion_instructor_n}}
									</div>
									<div class="col-2">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.hospedaje_alimentacion_instructor_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.hospedaje_alimentacion_instructor_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="hospedaje_alimentacion_instructor_r" class="valor-total"
										data-total="id_hospedaje_alimentacion_instructor_total" data-depend="True"
										data-field="id_hospedaje_alimentacion_instructor_unitario">
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Breaks Instructor</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="break_instructor"
												value='{{form.break_instructor.value}}' />
											{{form.break_instructor|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.break_instructor_dias}}
									</div>
									<div class="col-1">
										{{form.break_instructor_n}}
									</div>
									<div class="col-2">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.break_instructor_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.break_instructor_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="break_instructor_r" class="valor-total"
										data-total="id_break_instructor_total" data-depend="True"
										data-field="id_break_instructor_unitario">
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Almuerzos Instructor</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="almuerzo_instructor"
												value='{{form.almuerzo_instructor.value}}' />
											{{form.almuerzo_instructor|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.almuerzo_instructor_dias}}
									</div>
									<div class="col-1">
										{{form.almuerzo_instructor_n}}
									</div>
									<div class="col-2">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.almuerzo_instructor_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.almuerzo_instructor_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="almuerzo_instructor_r" class="valor-total"
										data-total="id_almuerzo_instructor_total" data-depend="True"
										data-field="id_almuerzo_instructor_unitario">

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="headingTwo">
					<a style="cursor: pointer" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false"
						aria-controls="collapseTwo">
						<h5 class="mb-0">
							VIATICOS DEL PERSONAL<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Pasaje del personal</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="pasaje_personal"
												value='{{form.pasaje_personal.value}}' />
											{{form.pasaje_personal|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.pasaje_personal_dias}}
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pasaje_personal_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pasaje_personal_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Hospedaje y alimentaci√≥n</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="hospedaje_alimentacion_personal"
												value='{{form.hospedaje_alimentacion_personal.value}}' />
											{{form.hospedaje_alimentacion_personal|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.hospedaje_alimentacion_personal_dias}}
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.hospedaje_alimentacion_personal_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.hospedaje_alimentacion_personal_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Movilizaci√≥n</div>
									<div class="col-2">
									</div>
									<div class="col-1">
										<div class="form-group">
											{{form.movilizacion_personal_dias}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.movilizacion_personal_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.movilizacion_personal_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="headingThree">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapseThree"
						aria-expanded="false" aria-controls="collapseThree">
						<h5 class="mb-0">
							INFRAESTRUCTURA<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapseThree" class="collapse show" aria-labelledby="headingThree" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Instalaciones</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="instalaciones"
												value='{{form.instalaciones.value}}' />
											{{form.instalaciones|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.instalaciones_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.instalaciones_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Provisi√≥n mejoras de instalaciones</div>
									<div class="col-3">
										<div class="form-group">

										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span></div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading4">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse4"
						aria-expanded="false" aria-controls="collapse4">
						<h5 class="mb-0">
							PUBLICIDAD<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse4" class="collapse show" aria-labelledby="heading4" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Publicidad</div>
									<div class="col-3">
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.publicidad_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.publicidad_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading5">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse5"
						aria-expanded="false" aria-controls="collapse5">
						<h5 class="mb-0">
							PERSONAL DEL EVENTO<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse5" class="collapse show" aria-labelledby="heading5" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Personal del evento</div>
									<div class="col-3">
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.personal_evento_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.personal_evento_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading6">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse6"
						aria-expanded="false" aria-controls="collapse6">
						<h5 class="mb-0">
							COSTO DEL PROSPECTO<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse6" class="collapse show" aria-labelledby="heading6" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Prospecto del evento</div>
									<div class="col-3">
										<input type="hidden" name="prospecto_evento"
											value='{{form.prospecto_evento.value}}' />
										{{form.prospecto_evento|as_crispy_field}}
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.prospecto_evento_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.prospecto_evento_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<div class="row">
		<div class="col-2">
		</div>
		<div class="col-8">
			<div class="form-row">
				<div class="col-3"></div>
				<div class="col-3 v-align">
					<h5 class="float-right">TOTAL EGRESOS FIJOS</h5>
				</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap">
							<span class="currency-code">$</span>{{form.total_egresos_fijos|as_crispy_field}}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div class="row">
		<div class="campo col-12 p-2 pl-3">
			<h4 class="black-text text-uppercase mb-0">Egresos >> <span class="green-text"> Egresos Variables</span>
			</h4>
		</div>
	</div>
	<div class="my-3">
		<div id="accordion">
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading7">
					<a style="cursor: pointer" data-toggle="collapse" data-target="#collapse7" aria-expanded="false"
						aria-controls="collapse7">
						<h5 class="mb-0">
							MATERIAL DEL EVENTO<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>

				<div id="collapse7" class="collapse show" aria-labelledby="heading7" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Emisi√≥n Certificados</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="certificados"
												value='{{form.certificados.value}}' />
											{{form.certificados|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.certificados_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.certificados_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Carpeta</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="carpeta" value='{{form.carpeta.value}}' />
											{{form.carpeta|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.carpeta_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.carpeta_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Malet√≠n (Solo diplomados)</div>

									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="maletin" value='{{form.maletin.value}}' />
											{{form.maletin|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.maletin_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.maletin_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Blocks</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="block" value='{{form.block.value}}' />
											{{form.block|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.block_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.block_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Plumas</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="pluma" value='{{form.pluma.value}}' />
											{{form.pluma|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pluma_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pluma_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">L√°pices</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="lapiz" value='{{form.lapiz.value}}' />
											{{form.lapiz|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.lapiz_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.lapiz_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Credenciales (pl√°stico)</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="credencial_plastico"
												value='{{form.credencial_plastico.value}}' />
											{{form.credencial_plastico|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.credencial_plastico_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.credencial_plastico_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Credenciales (pvc)</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="credencial_pvc"
												value='{{form.credencial_pvc.value}}' />
											{{form.credencial_pvc|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.credencial_pvc_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.credencial_pvc_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Pendrives</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="pendrive" value='{{form.pendrive.value}}' />
											{{form.pendrive|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pendrive_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.pendrive_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Otros materiales</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="otros_materiales"
												value='{{form.otros_materiales.value}}' />
											{{form.otros_materiales|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.otros_materiales_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.otros_materiales_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading8">
					<a style="cursor: pointer" data-toggle="collapse" data-target="#collapse8" aria-expanded="false"
						aria-controls="collapse8">
						<h5 class="mb-0">
							SERVICIO DE ALIMENTACION DEL EVENTO<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse8" class="collapse show" aria-labelledby="heading8" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Breaks</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="break_evento"
												value='{{form.break_evento.value}}' />
											{{form.break_evento|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.break_evento_dias|as_crispy_field}}
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.break_evento_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.break_evento_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="break_participantes" class="valor-total"
										data-total="id_break_evento_total" data-depend="True"
										data-field="id_break_evento_unitario">

								</div>
								<div class="form-row">
									<div class="col-3 v-align">Almuerzo</div>
									<div class="col-2">
										<div class="form-group">
											<input type="hidden" name="almuerzo_evento"
												value='{{form.almuerzo_evento.value}}' />
											{{form.almuerzo_evento|as_crispy_field}}
										</div>
									</div>
									<div class="col-1">
										{{form.almuerzo_evento_dias|as_crispy_field}}
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.almuerzo_evento_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">$</span>
											{{form.almuerzo_evento_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="almuerzo_participantes" class="valor-total"
										data-total="id_almuerzo_evento_total" data-depend="True"
										data-field="id_almuerzo_evento_unitario">

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading9">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse9"
						aria-expanded="false" aria-controls="collapse9">
						<h5 class="mb-0">
							CEREMONIAS<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse9" class="collapse show" aria-labelledby="heading9" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Ceremonia clausura</div>
									<div class="col-3">
										<div class="form-group">
											<input type="hidden" name="ceremonia" value='{{form.ceremonia.value}}' />
											{{form.ceremonia|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.ceremonia_unitario|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.ceremonia_total|as_crispy_field}}
										</div>
									</div>
									<input type="hidden" id="ceremonia_participantes" data-total="id_ceremonia_total"
										data-depend="True" data-field="id_ceremonia_unitario">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading10">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse10"
						aria-expanded="false" aria-controls="collapse10">
						<h5 class="mb-0">
							APORTACIONES<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse10" class="collapse show" aria-labelledby="heading10" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Aportaci√≥n ESPOL</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">%</span>{{form.aportacion_espol_porcentaje|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.aportacion_espol_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.aportacion_espol_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Aportaci√≥n ESPOLTECH</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">%</span>{{form.aportacion_espoltech_porcentaje|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.aportacion_espoltech_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.aportacion_espoltech_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Aportaci√≥n Ministerio de Finanzas</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">%</span>{{form.aportacion_ministerio_porcentaje|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.aportacion_ministerio_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.aportacion_ministerio_total|as_crispy_field}}
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Aportaci√≥n Facultades</div>
									<div class="col-2">
										<input type="hidden" name="aportacion_facultad"
											value='{{form.aportacion_facultad.value}}' />
										{{form.aportacion_facultad}}
									</div>
									<div class="col-1">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">%</span>{{form.aportacion_facultad_porcentaje_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.aportacion_facultad_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.aportacion_facultad_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-header border-bottom border-success" id="heading11">
					<a style="cursor: pointer" class="collapsed" data-toggle="collapse" data-target="#collapse11"
						aria-expanded="false" aria-controls="collapse11">
						<h5 class="mb-0">
							VARIOS<i class="fas fa-angle-down float-right"></i>
						</h5>
					</a>
				</div>
				<div id="collapse11" class="collapse show" aria-labelledby="heading11" data-parent="#accordion">
					<div class="card-body">
						<div class="row">
							<div class="col-1"></div>
							<div class="col-10">
								<div class="form-row">
									<div class="col-3"></div>
									<div class="col-3">
										<div class="form-group">
											<h5 class="text-center">Datos</h5>
										</div>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Unitario</h5>
									</div>
									<div class="col-3">
										<h5 class="text-center">Valor Total</h5>
									</div>
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Movilizaci√≥n interna (ciudad)</div>
									<div class="col-3">
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.movilizacion_interna_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.movilizacion_interna_total|as_crispy_field}}
										</div>
									</div>

								</div>
								<div class="form-row">
									<div class="col-3 v-align">Cafeteria y limpieza</div>
									<div class="col-3">
										<input type="hidden" name="cafeteria_limpieza"
											value='{{form.cafeteria_limpieza.value}}' />
										{{form.cafeteria_limpieza}}
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.cafeteria_limpieza_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.cafeteria_limpieza_total| as_crispy_field}}
										</div>
									</div>

									<input type="hidden" id="n_dias_participantes"
										data-total="id_cafeteria_limpieza_total" data-depend="True"
										data-field="id_cafeteria_limpieza_unitario">
								</div>
								<div class="form-row">
									<div class="col-3 v-align">Imprevistos</div>
									<div class="col-3">
										<div class="currency-wrap"><span class="currency-code">%</span>
											{{form.imprevisto_porcentaje|as_crispy_field}}
										</div>
									</div>
									<div class="col-3">
										<div class="form-group">
											<div class="currency-wrap"><span
													class="currency-code">$</span>{{form.imprevisto_unitario|as_crispy_field}}
											</div>
										</div>
									</div>
									<div class="col-3">
										<div class="currency-wrap"><span
												class="currency-code">$</span>{{form.imprevisto_total|as_crispy_field}}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-2">
		</div>
		<div class="col-8">
			<div class="form-row">
				<div class="col-6 v-align">
					<h5 class="float-right">TOTAL EGRESOS VARIABLES</h5>
				</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap">
							<span class="currency-code">$</span>{{form.total_egresos_variables|as_crispy_field}}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row px-5 my-4">
		<div class="col-7"></div>
		<div class="col-3 v-align">
			<h5 class="float-right">TOTAL EGRESOS</h5>
		</div>
		<div class="col-2">
			<div class="form-group">
				<div class="currency-wrap">
					<span class="currency-code">$</span>{{form.total_egresos|as_crispy_field}}
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="campo col-12 mt-2 p-2 pl-3">
			<h4 class="black-text text-uppercase mb-0">Resumen presupuesto</h4>
		</div>
	</div>
	<div class="row darkwhite-bg py-2">
		<div class="col-2"></div>
		<div class="col-8">
			<hr class="border border-success">
			<div class="form-row">
				<div class="col-3 v-align">Nombre del evento</div>
				<div class="col-9">
					<div class="form-group">
						<input type="number" readonly id="resumen_nombre_evento" class="form-control textInput myinput">
					</div>
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Total Ingresos</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap">
							<span class="currency-code">$</span>
							<input type="number" readonly id="resumen_ingreso"
								class="form-control textInput text-currency myinput">
						</div>
					</div>
				</div>
				<div class="col-3 v-align">Precio del evento</div>
				<div class="col-3">
					<div class="currency-wrap"><span class="currency-code">$</span>
						<input type="number" readonly id="resumen_precio_evento"
							class="punto form-control textInput myinput text-currency">
					</div>
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Total Egresos</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							<input type="number" readonly id="resumen_egreso"
								class="form-control textInput text-currency myinput">
						</div>
					</div>
				</div>
				<div class="col-3 v-align">Utilidad del evento (d√≥lares)</div>
				<div class="col-3">
					<div class="currency-wrap"><span class="currency-code">$</span>
						{{form.utilidad |as_crispy_field}}
					</div>
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Total Egresos fijos</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							<input type="number" readonly id="resumen_egreso_fijo"
								class="form-control textInput text-currency myinput">
						</div>
					</div>
				</div>
				<div class="col-3 v-align">Margen de contribuci√≥n (%)</div>
				<div class="col-3">
					<div class="currency-wrap"><span class="currency-code">%</span>
						{{form.margen_contribucion |as_crispy_field}}
					</div>
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Total Egresos variables</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							<input type="number" readonly id="resumen_egreso_variable"
								class="form-control textInput text-currency myinput">
						</div>
					</div>
				</div>
				<div class="col-3 v-align">No. participantes</div>
				<div class="col-3">
					<input type="number" readonly id="resumen_n_participantes"
						class="form-control textInput text-currency myinput">
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Egresos variables unit.</div>
				<div class="col-3">
					<div class="currency-wrap"><span class="currency-code">$</span>
						{{form.egreso_variable_unit | as_crispy_field}}
					</div>
				</div>
				<div class="col-3 v-align">Punto de equilibrio</div>
				<div class="col-3">
					<div class="form-group">
						{{form.punto_equilibrio | as_crispy_field}}
					</div>
				</div>
			</div>

			<hr class="border border-success">
			<div class="form-row">
				<div class="col-3">
					<h5>Resumen Facultades</h5>
				</div>
				<div class="col-3">No. Cursos</div>
				<div class="col-3">Valor por curso</div>
				<div class="col-3">Valor Total</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Participacion</div>
				<div class="col-3">
					{{form.n_cursos | as_crispy_field}}
				</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							<input type="number" readonly id="resumen_aporte_facultad"
								class="form-control textInput text-currency" data-total="id_participacion_total"
								data-depend="True" data-field="id_n_cursos">
						</div>
					</div>
				</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							{{form.participacion_total | as_crispy_field}}
						</div>
					</div>
				</div>
			</div>
			<div class="form-row">
				<div class="col-3 v-align">Pago a docentes</div>
				<div class="col-3"></div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							<input type="number" readonly id="resumen_honorarios"
								class="form-control textInput text-currency">
						</div>
					</div>
				</div>
				<div class="col-3">
					<div class="form-group">
						<div class="currency-wrap"><span class="currency-code">$</span>
							{{form.pago_docente_total | as_crispy_field}}
						</div>
					</div>
				</div>
			</div>
			<hr class="border">
			<div class="form-row">
				<div class="col-12 v-align">
					<div class="form-group">
						{{form.observaciones|as_crispy_field}}
					</div>
				</div>
			</div>
		</div>
		<div class="col-2"></div>
	</div>

	<div class="row mt-3">
		<div class="col-12">
			<button type="submit" disabled style="display: none" aria-hidden="true"></button>
			{% if form.estado.value == "Anulada" %}
			<hr>
			<div class="form-group">
				{{form.motivo_anular|as_crispy_field}}
			</div>
			<hr>
			{% else %}
			<a class="btn btn-secondary green-bg" data-toggle='modal' data-target="#presupuestoAgregarCenter"
				href='#'>Guardar</a>
			<a class="btn btn-secondary" href="{% url 'index_presupuestos' %}">Cancelar</a>
			{% endif %}
			<a class="btn btn-secondary float-right ml-1" href="#"><i class="fas fa-print"></i> Imprimir</a>
			{% if form.estado.value == "Grabado" %}
			<button id="env-sol" class="btn btn-success darkgreen-bg float-right">Enviar solicitud</button>
			{% endif %}
		</div>
	</div>
	{{ form.media }}

	<div class="modal fade" id="presupuestoAgregarCenter" tabindex="-1" role="dialog" aria-labelledby="ordenTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="presupuestoTitle">Confirmaci√≥n</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="modal-confirmacion">
					¬øEst√° seguro/a que desea continuar? Verif√≠que los datos ingresados antes de proceder.
				</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
					<button type="submit" class="btn btn-secondary green-bg mr-3">Confirmar</button>
				</div>
			</div>
		</div>
	</div>
</form>
{% endblock %}

{% block extrafooter %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

<script src="{% static 'js/presupuestos.js' %}"></script>

<script>
	$('#env-sol').click(function (e) {
		e.preventDefault();
		$("#id_estado").val("Solicitud Enviada");
		$("#form").trigger("submit");
	});
</script>

<script>
	$('.select2').select2({
		language: {

			noResults: function () {
				return "No hay resultados";
			},
			searching: function () {

				return "Buscando...";
			},
		}
	});

	var field_instructor = 1;

	$("#remove_inst").click(function (e) {
		if (field_instructor > 1) {
			$('#div_hora_' + field_instructor).addClass("d-none");
			$('#div_impuesto_' + field_instructor).addClass("d-none");
			$('#hora' + field_instructor).val(0).attr('required', false).trigger('change');
			$('#impuesto_select_' + field_instructor).attr('required', false);
			$('#id_impuesto_' + field_instructor + "_unitario").attr('required', false);
			$('impuesto_total_' + field_instructor).attr('required', false);
			field_instructor--;
		}
	});

	$("#add_inst").click(function (e) {
		if (field_instructor < 5) {
			field_instructor++;
			$('#div_hora_' + field_instructor).removeClass("d-none");
			$('#div_impuesto_' + field_instructor).removeClass("d-none");
			$('#hora' + field_instructor).attr('required', true);
			$('#impuesto_select_' + field_instructor).attr('required', true);
			$('#id_impuesto_' + field_instructor + "_unitario").attr('required', true);
			$('impuesto_total_' + field_instructor).attr('required', true);
		}
	});

	$("input[type=number]").on('change', function (e) {
		if ($(this).val() < 0) {
			$(this).val('');
		}
	});

	$(".costo_hora").change(CostoInstructores);

	$(".impuesto").change(CostoImpuesto);


	$("#id_descuento_maximo").change(function (e) {
		$(this).val(parseInt($(this).val()));
		if ($(this).val() > 10) {
			$(this).val(10);
		}
		CalcularIngresos();
	});


	function CostoInstructores() {
		var costo_final = 0;
		var costo_instructores = '';
		$(".costo_hora").each(function (index) {
			if ($(this).val() !== "") {
				costo_final += +($(this).val());
				costo_instructores += +$(this).val() + ',';
			}
		})

		$('#id_costo_instructores').val(costo_final.toFixed(2));
		$('#id_costo_hora_instructores').val(costo_instructores);
		CalcularHonorarios();
	}

	function CostoImpuesto() {
		var impuesto_select = '';
		var impuesto_unitario = '';
		var impuesto_final = '';

		$(".impuesto-select").each(function (index) {
			if ($(this).val() !== "") {
				impuesto_select += +$(this).val() + ',';
			}
		})

		$(".impuesto-unitario").each(function (index) {
			if ($(this).val() !== "") {
				impuesto_unitario += +$(this).val() + ',';
			}
		})

		$(".impuesto-final").each(function (index) {
			if ($(this).val() !== "") {
				impuesto_final += +$(this).val() + ',';
			}
		})

		$('#id_impuesto_select').val(impuesto_select);
		$('#id_impuesto_unitario').val(impuesto_unitario);
		$('#id_impuesto_total').val(impuesto_final);
	}

	function InitCostoHoras() {
		$.each({{ costo_horas }}, function(index, value) {
			$("#div_hora_" + (index + 1)).removeClass('d-none');
			if ('{{form.estado.value}}' !== "Grabado") {
				$('#hora' + (index + 1)).attr('required', true).attr('disabled', true).val(value).trigger('change');
			}
			else {
				$('#hora' + (index + 1)).attr('required', true).val(value).trigger('change');
			}
		});

	$.each({{ impuesto_select }}, function (index, value) {
		$("#div_impuesto_" + (index + 1)).removeClass('d-none');
		if ('{{form.estado.value}}' !== "Grabado") {
			$('#impuesto_select_' + (index + 1)).val(value).attr('disabled', true);
		}
		else {
			$('#impuesto_select_' + (index + 1)).val(value)
		}
	});

	$.each({{ impuesto_unitario }}, function (index, value) {
		$('#id_impuesto_' + (index + 1) + '_unitario').val(value);
	});

	$.each({{ impuesto_total }}, function (index, value) {
		$('#impuesto_total_' + (index + 1)).val(value);
	});
	};


	function ResumenValores() {
		$("#resumen_egreso").val($("#id_total_egresos").val());
		$("#resumen_egreso_variable").val($("#id_total_egresos_variables").val());
		$("#resumen_egreso_fijo").val($("#id_total_egresos_fijos").val());
		$('#resumen_n_participantes').val($("#id_n_participantes").val());
		$('#resumen_aporte_facultad').val($("#id_aportacion_facultad_total").val());
		$('#resumen_precio_evento').val($("#id_ingreso_neto_individual").val());
		$('#resumen_ingreso').val($("#id_ingreso_neto_total").val());
	}

	InitCostoHoras();
	CostoInstructores();
	CostoImpuesto();
	ResumenValores();
</script>
{%endblock extrafooter%}