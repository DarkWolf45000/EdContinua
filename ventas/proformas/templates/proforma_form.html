{% extends 'base_ventas.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block content %}
<form method="post" novalidate id="form-fact" enctype="multipart/form-data" ,
data-persona-url="{% url 'ajax_load_personas' %}" data-confirmacion-url="{% url 'ajax_verificar_campos' %}"
data-natural-url="{% url 'natural_nuevo'%}" data-juridica-url="{% url 'juridicas_view' %}"
data-info-url="{% url 'ajax_info_id' %}">
	{% csrf_token %}
	<div class="row mb-2">
		<div class="col-12 col-xl-12">
			<h2 class="text-uppercase darkgreen-text">
				{% block regedit %}
				Registro Proformas de Eventos
				{% endblock regedit %}
			</h2>
		</div>
	</div>
	<div class="row darkwhite-bg py-2">
		<div class="col-12">
			<div class="form-row">
				<div class="col-xl-3">
					{{form.codigo|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.version|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.asesor|as_crispy_field}}
				</div>
			</div>
			<div class="col-6 col-md-3 mb-0">

				{{form.tipo_cliente|as_crispy_field}}
				<small class="form-text text-muted">Seleccione el tipo de cliente</small>
	  
			  </div>
			  <div class="col-6 col-md-3 mb-0 " id="field-ruc-ci">
				<div id="div_id_ruc_ci" class="form-group">
				  <label for="{{ form.ruc_ci.id_for_label}}" class="col-form-label requiredField"
					id="ruc_ci">RUC/CI</label><span class="asteriskField">*</span>
				  <div>
					{{ form.ruc_ci}}
					{% if form.ruc_ci.errors %}
					{% for error in form.ruc_ci.errors %}
					<p class="invalid-feedback d-block">
					  <strong>{{ error }}</strong>
					</p>
					{% endfor %}
					{% endif %}
	  
				  </div>
				</div>
			  </div>
	  
			  <div class="col-6 col-md-3 mb-0 " id="field-razon">
				<div id="div_id_razon_nombres" class="form-group">
				  <label for="{{ form.razon_nombres.id_for_label}}" class="col-form-label requiredField" id="ra_nom">Razón
					Social/Nombres</label><span class="asteriskField">*</span>
				  <div>
					{{ form.razon_nombres}}
					{% if form.razon_nombres.errors %}
					{% for error in form.razon_nombres.errors %}
					<p class="invalid-feedback d-block">
					  <strong>{{ error }}</strong>
					</p>
					{% endfor %}
					{% endif %}
	  
				  </div>
				</div>
			  </div>
			<div class="form-row">
				<div class="col-xl-4">
					{{form.tipoEmpresa|as_crispy_field}}
				</div>
			</div>
			<div class="form-row">
				<div class="col-xl-6">
					{{form.sector|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.fechaSolicitud|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.fechaEnvio|as_crispy_field}}
				</div>
			</div>
			<div class="form-row">
				<div class="col-xl-3">
					{{form.numeroParticipantes|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.horas|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.cantidadCursos|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.montoProforma|as_crispy_field}}
				</div>
			</div>
			<div class="form-row">
				<div class="col-1">
                    <br>
                    {{form.porcentExito|as_crispy_field}}
                </div>
                <div class="col-1">
                    {{form.porcentDesc|as_crispy_field}}
                </div>
                <div class="col-1">
                    {{form.montoDesc|as_crispy_field}}
                </div>
            </div>
            <div class=form-row>
                <div class="col-xl-12">
                    {{form.observacion|as_crispy_field}}
                </div>
            </div>
            <div class=form-row>
                <div class="col-xl-6">
                    {{form.anexos|as_crispy_field}}
                </div>
                
            </div>
            <br>
            <div class=form-row>
                
                <div class="col-0.5">
                    <font color="green"><h6><b> Estado: </b></h6></font>
                </div>
                <div class="col-xl-3">
                    {{form.estado|as_crispy_field}}
                </div>
            </div>

			<div class="row">
				<div class="mt-2 campo p-2 pl-3 col-12">
					<h5 class="black-text text-uppercase mb-0">Aceptación Proforma</h5>
				</div>
			</div>
			<div class="form-row">
				<div class="col-xl-3 mr-xl-5">
					{{form.fechaRespuesta|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.montoAceptado|as_crispy_field}}
				</div>
			</div>
			<div class="row">
				<div class="col-xl-3 mr-xl-5">
					{{form.montoEjecutado|as_crispy_field}}
				</div>
				<div class="col-xl-3">
					{{form.montoPorEjecutarse|as_crispy_field}}
				</div>
			</div>
		</div>
	</div>

	<div class="row mt-3">
		<div class="col-12">
			<button type="submit" class="btn btn-secondary green-bg">Guardar</button>
			<a class="btn btn-secondary" href="{% url 'proforma_lista' %}"> Cancelar </a>
		</div>
	</div>


	{{ form.media }}
</form>
{% block extrafooter %}
<script src="{% static 'js/proforma_nuevo.js' %}"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script src="{% static 'js/proforma_form.js' %}"></script>
<script src="{% static 'js/proforma_money.js' %}"></script>
{% endblock extrafooter %}

{% endblock %}